!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery"),window,document):e(jQuery,window,document)}(function(e,t,n,a){"use strict";e.fn.roadmap=function(n,a){!n instanceof Array&&(n=[]);var r={slide:1,eventsPerSlide:6,rootClass:"roadmap",prevArrow:"prev",nextArrow:"next",orientation:"auto",onBuild:e.noop,eventTemplate:'<div class="event"><div class="event__date">####DATE###</div><div class="event__content">####CONTENT###</div></div>'},i=e.extend({},r,a),s=function(t,n){var a='<li class="'+i.rootClass+'__events__event">'+i.eventTemplate+"</li>";a=(a=a.replace("####DATE###",t.date)).replace("####CONTENT###",t.content);var r=e(e.parseHTML(a)),s=r.find("a"),o="javascript:createModal("+t.id+")";s.attr("href",o),a=r;var l=100/(i.eventsPerSlide-1)*n;return e(a).css("left",l+"%")};return this.each(function(){var a=this,r=e(this),o=i.slide-1;r.data({events:n,settings:i,currentSlide:o}).addClass(i.rootClass);var l=function(){var t;r.removeClass(i.rootClass+"--initialized"),r.find("."+i.rootClass+"__events").remove(),r.find("."+i.rootClass+"__navigation").remove(),function(){var t=r.data("currentSlide"),n=r.data("settings"),i=r.data("events");e("<ol/>",{class:n.rootClass+"__events"}).append(i.slice(t*n.eventsPerSlide,(t+1)*n.eventsPerSlide).map(s)).appendTo(a)}(),t=r.data("currentSlide"),e("<ul/>",{class:i.rootClass+"__navigation"}).append(["prev","next"].map(function(a){switch(a){case"prev":if(t>0)return e('<li><a href="#" class="'+a+'">'+i.prevArrow+"</a></li>");break;case"next":if((t+1)*i.eventsPerSlide<n.length)return e('<li><a href="#" class="'+a+'">'+i.nextArrow+"</a></li>")}return e("<li></li>")})).appendTo(a),r.addClass(i.rootClass+"--orientation-"+function(){switch(i.orientation){case"horizontal":case"vertical":case"auto":return i.orientation}return"auto"}()),setTimeout(function(){r.addClass(i.rootClass+"--initialized"),i.onBuild&&i.onBuild.call(null)},100)};l(),e("body").on("click","."+i.rootClass+" ."+i.rootClass+"__navigation li > *",function(t){if(t.preventDefault(),e(this).hasClass("prev")){if((a=r.data("currentSlide"))<1)return!1;r.data({events:n,settings:i,currentSlide:a-1}),l()}else{var a;if(((a=r.data("currentSlide"))+1)*i.eventsPerSlide>=n.length)return!1;r.data({events:n,settings:i,currentSlide:a+1}),l()}}),e(t).on("resize",function(){r.removeClass(i.rootClass+"--initialized"),l()})})}});